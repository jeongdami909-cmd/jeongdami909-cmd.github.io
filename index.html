<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Books from Lena</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Noto+Serif+KR:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  /* â”€â”€ ì‚¬ìš©ìë‹˜ì´ ìš”ì²­í•˜ì‹  ì˜…ì€ ê·¸ë¦° í…Œë§ˆ â”€â”€ */
  --paper: #f0f4f0;      /* ì•„ì£¼ ì—°í•œ ê·¸ë¦°ë¹› ë°°ê²½ */
  --paper2: #fafffa;     /* ì¹´ë“œ ë‚´ë¶€ ë°°ê²½ */
  --aged: #cfe0cf;       /* ê²½ê³„ì„  ê·¸ë¦° */
  --ink: #1a241a;        /* ì§„í•œ ì´ˆë¡ë¹› ê¸€ì”¨ */
  --rust: #2d5a27;       /* í¬ì¸íŠ¸ ì»¬ëŸ¬ (ë”¥ ê·¸ë¦°) */
  --gold: #7da37d;       /* ì„œë¸Œ í¬ì¸íŠ¸ */
  --muted: #5e705e;
  --soft: #8ca88c;
  --card-bg: #ffffff;
  --shadow: 0 4px 28px rgba(28,36,28,0.08);
  --overlay: rgba(26,36,26,0.6);
}

/* ì•„ë˜ëŠ” í´ë¡œë“œê°€ ì‘ì„±í•œ ëª¨ë“  ê¸°ëŠ¥(í•„í„°ë§, ëª¨ë‹¬, í¬ìŠ¤íŒ… ë¡œì§)ì´ í¬í•¨ëœ CSS/JSì…ë‹ˆë‹¤ */
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family: 'Noto Serif KR', serif; background: var(--paper); color: var(--ink); min-height: 100vh; }
.site-header { padding: 48px 52px 30px; border-bottom: 1px solid var(--aged); display: flex; align-items: flex-end; justify-content: space-between; gap: 20px; }
.site-title { font-family:'Playfair Display',serif; font-size:clamp(1.8rem,5vw,2.8rem); font-weight:700; }
.site-title em { color:var(--rust); font-style:normal; }
.btn-primary { background:var(--rust); color:#fff; border:none; padding:12px 22px; border-radius:3px; cursor:pointer; font-family:inherit; }

/* í•„í„° ë°” ìŠ¤íƒ€ì¼ */
.filter-bar { padding: 16px 52px; border-bottom:1px solid var(--aged); display:flex; gap:8px; align-items:center; }
.tag-filter { background:none; border:1px solid var(--aged); color:var(--muted); padding:5px 14px; border-radius:20px; cursor:pointer; font-size:12px; }
.tag-filter.active { background:var(--rust); color:#fff; border-color:var(--rust); }

/* ë„ì„œ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
.book-list { padding:40px 52px; display:flex; flex-direction:column; gap:32px; }
.book-card { background:var(--card-bg); border:1px solid var(--aged); border-radius:8px; box-shadow:var(--shadow); position:relative; padding:30px; }
.book-card::before { content:''; position:absolute; left:0; top:0; bottom:0; width:6px; background:var(--rust); }
.section-block { border-left:3px solid var(--aged); padding:10px 15px; background:rgba(200,220,200,0.2); margin-top:15px; border-radius:0 4px 4px 0; }
.section-label { font-size:10px; letter-spacing:0.1em; text-transform:uppercase; color:var(--soft); font-weight:700; margin-bottom:5px; }

/* ì´ë¯¸ì§€ ê·¸ë¦¬ë“œ */
.photo-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(120px, 1fr)); gap:10px; margin-top:10px; }
.photo-thumb { width:100%; aspect-ratio:1; object-fit:cover; border-radius:4px; border:1px solid var(--aged); }

/* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ (ê¸€ì“°ê¸° ì°½) */
.modal-bg { display:none; position:fixed; inset:0; background:var(--overlay); z-index:1000; align-items:center; justify-content:center; }
.modal-bg.open { display:flex; }
.modal { background:var(--paper2); padding:30px; border-radius:12px; width:90%; max-width:600px; max-height:90vh; overflow-y:auto; }
input, textarea, select { width:100%; padding:10px; margin-top:5px; border:1px solid var(--aged); border-radius:4px; background:var(--paper); }
</style>
</head>
<body>

<header class="site-header">
  <div>
    <h1 class="site-title">Books from <em>Lena</em></h1>
    <p style="color:var(--muted); font-size:0.9rem; margin-top:5px;">ë‚˜ë§Œì˜ ì—°ë‘£ë¹› ì„œì¬ ê¸°ë¡</p>
  </div>
  <button class="btn-primary" onclick="openModal()">ï¼‹ ìƒˆ ê¸°ë¡ ë‚¨ê¸°ê¸°</button>
</header>

<div class="filter-bar" id="filterBar">
  <button class="tag-filter active" onclick="filterTag('all')">ì „ì²´</button>
  <button class="tag-filter" onclick="filterTag('ì•„ì‹œì•„')">ì•„ì‹œì•„</button>
  <button class="tag-filter" onclick="filterTag('ìœ ëŸ½')">ìœ ëŸ½</button>
  <button class="tag-filter" onclick="filterTag('ë¯¸êµ­')">ë¯¸êµ­</button>
</div>

<main class="book-list" id="bookList"></main>

<div class="modal-bg" id="modalBg">
  <div class="modal">
    <h2 style="margin-bottom:20px;">ğŸ“– ìƒˆë¡œìš´ ê¸°ë¡</h2>
    <label>ì œëª©</label><input type="text" id="f-title">
    <label>ì§€ì—­</label>
    <select id="f-region">
      <option value="ì•„ì‹œì•„">ì•„ì‹œì•„</option>
      <option value="ìœ ëŸ½">ìœ ëŸ½</option>
      <option value="ë¯¸êµ­">ë¯¸êµ­</option>
    </select>
    <label>ì†Œê° ë° ë°œì·Œ</label><textarea id="f-text" rows="5"></textarea>
    <label>ì´ë¯¸ì§€ ì£¼ì†Œ (URL)</label><input type="text" id="f-img" placeholder="ì´ë¯¸ì§€ ë§í¬ë¥¼ ë„£ì–´ì£¼ì„¸ìš”">
    <div style="margin-top:20px; display:flex; gap:10px;">
      <button class="btn-primary" onclick="savePost()">ì €ì¥</button>
      <button class="btn-primary" style="background:var(--muted)" onclick="closeModal()">ì·¨ì†Œ</button>
    </div>
  </div>
</div>

<script>
let posts = JSON.parse(localStorage.getItem('lena_posts') || '[]');

function openModal() { document.getElementById('modalBg').classList.add('open'); }
function closeModal() { document.getElementById('modalBg').classList.remove('open'); }

function savePost() {
  const newPost = {
    id: Date.now(),
    title: document.getElementById('f-title').value,
    region: document.getElementById('f-region').value,
    text: document.getElementById('f-text').value,
    img: document.getElementById('f-img').value
  };
  posts.unshift(newPost);
  localStorage.setItem('lena_posts', JSON.stringify(posts));
  render();
  closeModal();
}

function render(filter = 'all') {
  const list = document.getElementById('bookList');
  list.innerHTML = '';
  const filtered = filter === 'all' ? posts : posts.filter(p => p.region === filter);
  
  filtered.forEach(p => {
    list.innerHTML += `
      <div class="book-card">
        <h2>${p.title}</h2>
        <span style="font-size:12px; color:var(--rust)">[${p.region}]</span>
        <div class="section-block">
          <p class="section-text">${p.text}</p>
        </div>
        ${p.img ? `<div class="photo-grid"><img src="${p.img}" class="photo-thumb"></div>` : ''}
      </div>
    `;
  });
}

function filterTag(region) {
  render(region);
  const btns = document.querySelectorAll('.tag-filter');
  btns.forEach(b => b.classList.toggle('active', b.innerText === region || (region === 'all' && b.innerText === 'ì „ì²´')));
}

render();
</script>
</body>
</html>
